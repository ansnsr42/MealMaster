<!-- create_recipe.html -->
{% extends "base.html" %}
{% block content %}
<h2>Neues Rezept anlegen</h2>

<form method="POST" action="{{ url_for('create_recipe') }}">
  <label for="title">Titel:</label>
  <input type="text" name="title" id="title" required>

  <label for="instructions">Anleitung:</label>
  <textarea name="instructions" id="instructions" rows="4" cols="50"></textarea>

  <!-- Dynamische Zutaten-Eingabe -->
  <div id="ingredients-container">
    <div class="ingredient-row">
      <input type="text" name="ingredient_name[]" placeholder="Zutat">
      <input type="text" name="ingredient_qty[]" placeholder="Menge z.B. 200 g">
    </div>
  </div>

  <button type="button" onclick="addIngredientRow()">+ Weitere Zutat</button>
  <br><br>

  <button type="submit">Speichern</button>
</form>

<script>
function addIngredientRow() {
  const container = document.getElementById('ingredients-container');
  const row = document.createElement('div');
  row.className = 'ingredient-row';
  row.innerHTML = `
    <input type="text" name="ingredient_name[]" placeholder="Zutat">
    <input type="text" name="ingredient_qty[]" placeholder="Menge">
  `;
  container.appendChild(row);
}
</script>
{% endblock %}
